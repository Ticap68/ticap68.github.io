<!DOCTYPE html>
<html>

<head>
    <title>Liste de Sellettes de Parapente</title>
    <link rel="stylesheet" href="page1.css">
</head>

<body>
    <div class="sidebar">
        <h2>Filtrer :</h2>
        <label for="weight-filter">Poids mini :</label>
        <input type="number" id="weight-filter" min="0" step="0.1">

        <label for="dos-filter">dos :</label>
        <input type="number" id="dos-filter" min="0" step="0.1">

        <label for="larg-filter">largeur :</label>
        <input type="number" id="larg-filter" min="0" step="0.1">

        <label for="long-filter">longueur :</label>
        <input type="number" id="long-filter" min="0" step="0.1">

        <label for="type-filter">Type :</label>
        <select id="type-filter">
            <option value="">Tous</option>
            <option value="airbag">airbag</option>
            <option value="mousse">mousse</option>
        </select>



        <button id="filter-button">Filtrer</button>
    </div>

    <div class="main-content">
        <h1>Liste de Sellettes de Parapente</h1>
        <ul id="paragliders-list"></ul>
    </div>

    <script>
        const paraglidersList = document.getElementById("paragliders-list");
        let paragliders = []; // Variable pour stocker les données des sellettes

        // Fonction pour afficher les sellettes dans la liste
        function displayParagliders(paraglidersArray) {
            paraglidersList.innerHTML = "";

            paraglidersArray.forEach(sellette => {
                const listItem = document.createElement("li");
                const listItemText = document.createTextNode(`${sellette.name} - Poids : ${sellette.weight} kg , Type : ${sellette.type} , Dos: ${sellette.dos} , largeur: ${sellette.largeur} , longueur: ${sellette.longueur} , `);
                const pdfLink = document.createElement("a"); // Créer un élément "a" pour le lien
                pdfLink.href = sellette.pdf; // Définir l'URL du lien
                pdfLink.textContent = sellette.pdf; // Texte du lien
                pdfLink.target = "_blank"; // Ouvrir le lien dans un nouvel onglet
                listItem.appendChild(listItemText); // Ajouter le texte normal
                listItem.appendChild(pdfLink); // Ajouter le lien à l'élément <li>
                paraglidersList.appendChild(listItem);
            });



        }

        // Fonction pour charger les données JSON depuis le fichier
        async function fetchParagliders() {
            try {
                const response = await fetch('liste_sellettes.json');
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('Erreur de chargement des données :', error);
                return [];
            }
        }

        // Fonction pour filtrer les sellettes en fonction des options
        function filterParagliders() {
            const weightFilter = document.getElementById("weight-filter").value;
            const typeFilter = document.getElementById("type-filter").value;
            const dosFilter = document.getElementById("dos-filter").value;
            const larg = document.getElementById("larg-filter").value;
            const long = document.getElementById("long-filter").value;

            const filteredParagliders = paragliders.filter(sellette =>
                (weightFilter === "" || sellette.weight >= weightFilter) &&
                (typeFilter === "" || sellette.type === typeFilter) &&
                (dosFilter === "" || sellette.dos >= dosFilter) &&
                (larg === "" || sellette.largeur >= larg) &&
                (long === "" || sellette.longueur >= long)
            );

            displayParagliders(filteredParagliders);
        }

        // Ajoute des événements aux éléments de filtrage

        document.getElementById("filter-button").addEventListener("click", filterParagliders);

        // Chargement initial des sellettes
        async function loadParagliders() {
            paragliders = await fetchParagliders();
            displayParagliders(paragliders);
        }

        // Appel pour charger les sellettes au démarrage
        loadParagliders();
    </script>
</body>

</html>